echo "ğŸš€ Running pre-push checks..."

# Frontend checks
echo "ğŸ“± Checking frontend..."
cd frontend

echo "  ğŸ” Running ESLint..."
npm run lint || exit 1

echo "  ğŸ”§ Running TypeScript type check..."
npx tsc --noEmit || exit 1

echo "  ğŸ§ª Running tests..."
npm run test -- --run || exit 1

echo "  ğŸ—ï¸  Running build..."
npm run build || exit 1

# Backend checks
echo "ğŸ–¥ï¸  Checking backend..."
cd ../backend

echo "  ğŸ” Running ESLint..."
npm run lint || exit 1

echo "  ğŸ”§ Running TypeScript type check..."
npx tsc --noEmit || exit 1

echo "  ğŸ§ª Running tests..."
npm run test || exit 1

echo "  ğŸ—ï¸  Running build..."
npm run build || exit 1

cd ..
echo "âœ… All pre-push checks passed!"